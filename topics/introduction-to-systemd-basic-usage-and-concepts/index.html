<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Introduction to systemd : Basic Usage and Concepts" /><meta name="author" content="Shahriar" /><meta property="og:locale" content="en" /><meta name="description" content="We write about Windows Internals, Hypervisors, Linux, and Networks." /><meta property="og:description" content="We write about Windows Internals, Hypervisors, Linux, and Networks." /><link rel="canonical" href="https://rayanfam.com/topics/introduction-to-systemd-basic-usage-and-concepts/" /><meta property="og:url" content="https://rayanfam.com/topics/introduction-to-systemd-basic-usage-and-concepts/" /><meta property="og:site_name" content="Rayanfam Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-04-06T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Introduction to systemd : Basic Usage and Concepts" /><meta name="twitter:site" content="@Intel80x86" /><meta name="twitter:creator" content="@Shahriar" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Shahriar"},"dateModified":"2022-04-13T21:12:10+00:00","datePublished":"2018-04-06T00:00:00+00:00","description":"We write about Windows Internals, Hypervisors, Linux, and Networks.","headline":"Introduction to systemd : Basic Usage and Concepts","mainEntityOfPage":{"@type":"WebPage","@id":"https://rayanfam.com/topics/introduction-to-systemd-basic-usage-and-concepts/"},"url":"https://rayanfam.com/topics/introduction-to-systemd-basic-usage-and-concepts/"}</script><title>Introduction to systemd : Basic Usage and Concepts | Rayanfam Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Rayanfam Blog"><meta name="application-name" content="Rayanfam Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/images/avatar.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Rayanfam Blog</a></div><div class="site-subtitle font-italic">An aggressive out-of-order, superscalar blog...</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tutorials/" class="nav-link"> <i class="fa-fw ml-xl-3 mr-xl-3 unloaded"></i> <span>TUTORIALS</span> </a><li class="nav-item"> <a href="/tools/" class="nav-link"> <i class="fa-fw ml-xl-3 mr-xl-3 unloaded"></i> <span>TOOLS & SCRIPTS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>CONTACT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/rayanfam" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/Intel80x86" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sina','rayanfam.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Introduction to systemd : Basic Usage and Concepts</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Introduction to systemd : Basic Usage and Concepts</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/Xcess">Shahriar</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1522972800" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2018-04-06 </em> </span> <span> Updated <em class="timeago" data-ts="1649884330" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-14 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="829 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><p><img data-src="../../assets/images/linux-kernel-unified-hierarchy-cgroups-and-systemd.png" alt="" data-proofer-ignore></p><p>Hi everyone</p><p>In this post I am going to explain some essential systemd commands and concepts. As systemd popularity grew much more and changed the linux ecosystem drastically, every sysadmin, DevOps or every casual linux user should know the basics of this init system (It’s really a load of other things too!) and be able to use systemctl, journalctl, etc in order to leverage its power.</p><p>For example, by using systemd unit files you can completely get rid of using crontab as systemd replaces this functionality, you can also run the service as a temporary user or even activate a service when a connection is made to a specific port on server. as you can see, the possibilities are endless. Some of them will hopefully be described in further posts and links provided at the end of this post.</p><p> </p><p><img data-src="../../assets/images/systemd-logo.gif" alt="systemd logo" data-proofer-ignore></p><hr /><h1 id="concepts">Concepts</h1><h2 id="unit-files"><span class="mr-2">Unit Files</span><a href="#unit-files" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Most systemd configuration take place in unit files. unit files are short configuration snippets that control behavior of systmed. Unit files are of different types which will be described below:</p><h3 id="service-file"><span class="mr-2">Service File</span><a href="#service-file" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>A service unit file is configuration file that shows how you like to run a specific process, like a web server application, a docker container, etc. It can be anything, even your own application.</p><h3 id="target-file"><span class="mr-2">Target File</span><a href="#target-file" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>A target unit file is mechanism used for grouping different services and starting them at the same time or in another desired fashion.</p><h3 id="timer-units"><span class="mr-2">Timer units</span><a href="#timer-units" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Timer units are used to run services at specific times, like crontab.</p><h3 id="path-units"><span class="mr-2">Path units</span><a href="#path-units" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Watches a path and responds based on defined actions.</p><h3 id="slice-units"><span class="mr-2">Slice Units</span><a href="#slice-units" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Slice units are used for resource management of other units. Units are assigned to a slice which controls their use of resources. By default units are assigned to a default slice. which is “system.slice” for services and scope units, “user.slice” for user sessions and “machine.slice” for containers registered with <em>systemd-machined.</em></p><h3 id="socket-units"><span class="mr-2">Socket Units</span><a href="#socket-units" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Socket units are used to activate another service on request to a socket. It facilitates on-demand service activation. You can setup a server which listen for ssh connection and creates a container for each user which connects to the server and connects the user to the container. only using systemd! your power is limited by your imagination :D</p><h3 id="device-unit"><span class="mr-2">Device Unit</span><a href="#device-unit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>systemd wrapper for <strong>udev</strong> devices.</p><h3 id="mount-units"><span class="mr-2">Mount Units</span><a href="#mount-units" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Mount units are simply used to mount a filesystem automatically (or manually).</p><hr /><p>A sample service unit file (OpenSSH on debian jessie):</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="n">Unit</span><span class="p">]</span>
<span class="n">Description</span><span class="o">=</span><span class="n">OpenBSD</span> <span class="n">Secure</span> <span class="n">Shell</span> <span class="n">server</span>
<span class="n">After</span><span class="o">=</span><span class="n">network</span><span class="p">.</span><span class="n">target</span> <span class="n">auditd</span><span class="p">.</span><span class="n">service</span>
<span class="n">ConditionPathExists</span><span class="o">=!/</span><span class="n">etc</span><span class="o">/</span><span class="n">ssh</span><span class="o">/</span><span class="n">sshd_not_to_be_run</span>

<span class="p">[</span><span class="n">Service</span><span class="p">]</span>
<span class="n">EnvironmentFile</span><span class="o">=-/</span><span class="n">etc</span><span class="o">/</span><span class="k">default</span><span class="o">/</span><span class="n">ssh</span>
<span class="n">ExecStartPre</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">sshd</span> <span class="o">-</span><span class="n">t</span>
<span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">sshd</span> <span class="o">-</span><span class="n">D</span> <span class="err">$</span><span class="n">SSHD_OPTS</span>
<span class="n">ExecReload</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">sshd</span> <span class="o">-</span><span class="n">t</span>
<span class="n">ExecReload</span><span class="o">=/</span><span class="n">bin</span><span class="o">/</span><span class="n">kill</span> <span class="o">-</span><span class="n">HUP</span> <span class="err">$</span><span class="n">MAINPID</span>
<span class="n">KillMode</span><span class="o">=</span><span class="n">process</span>
<span class="n">Restart</span><span class="o">=</span><span class="n">on</span><span class="o">-</span><span class="n">failure</span>

<span class="p">[</span><span class="n">Install</span><span class="p">]</span>
<span class="n">WantedBy</span><span class="o">=</span><span class="n">multi</span><span class="o">-</span><span class="n">user</span><span class="p">.</span><span class="n">target</span>
<span class="n">Alias</span><span class="o">=</span><span class="n">sshd</span><span class="p">.</span><span class="n">service</span>
</pre></table></code></div></div><p>It is rather self-explanatory so after another example (a unit file for a docker container from <a href="https://coreos.com/os/docs/latest/getting-started-with-systemd.html">CoreOS</a>):</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="n">Unit</span><span class="p">]</span>
<span class="n">Description</span><span class="o">=</span><span class="n">MyApp</span>
<span class="n">After</span><span class="o">=</span><span class="n">docker</span><span class="p">.</span><span class="n">service</span>
<span class="n">Requires</span><span class="o">=</span><span class="n">docker</span><span class="p">.</span><span class="n">service</span>

<span class="p">[</span><span class="n">Service</span><span class="p">]</span>
<span class="n">TimeoutStartSec</span><span class="o">=</span><span class="mi">0</span>
<span class="n">ExecStartPre</span><span class="o">=-/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">docker</span> <span class="n">kill</span> <span class="n">busybox1</span>
<span class="n">ExecStartPre</span><span class="o">=-/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">docker</span> <span class="n">rm</span> <span class="n">busybox1</span>
<span class="n">ExecStartPre</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">docker</span> <span class="n">pull</span> <span class="n">busybox</span>
<span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">name</span> <span class="n">busybox1</span> <span class="n">busybox</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="s">"trap 'exit 0' INT TERM; while true; do echo Hello World; sleep 1; done"</span>

<span class="p">[</span><span class="n">Install</span><span class="p">]</span>
<span class="n">WantedBy</span><span class="o">=</span><span class="n">multi</span><span class="o">-</span><span class="n">user</span><span class="p">.</span><span class="n">target</span>
</pre></table></code></div></div><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="err">$</span> <span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">enable</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">hello</span><span class="p">.</span><span class="n">service</span>
<span class="err">$</span> <span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">start</span> <span class="n">hello</span><span class="p">.</span><span class="n">service</span>
</pre></table></code></div></div><p> </p><hr /><h2 id="systemd-commands"><span class="mr-2">systemd commands</span><a href="#systemd-commands" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="systemctl"><span class="mr-2">systemctl</span><a href="#systemctl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The most import command is probably <strong>systemctl</strong>. It is used for starting/stopping services. Here’s a good table from <a href="https://highon.coffee/blog/systemd-cheat-sheet/">HighOnCoffee</a>:</p><div class="table-wrapper"><table><thead><tr><th>systemctl stop service-name<th>systemd stop running service<tbody><tr><td>systemctl start service-name<td>systemctl start service<tr><td>systemctl restart service-name<td>systemd restart running service<tr><td>systemctl reload service-name<td>reloads all config files for service<tr><td>systemctl status service-name<td>systemctl show if service is running<tr><td>systemctl enable service-name<td>systemctl start service at boot<tr><td>systemctrl disable service-name<td>systemctl - disable service at boot<tr><td>systemctl show service-name<td>show systemctl service info</table></div><p>List service dependencies with this command:</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="cp"># systemctl list-dependencies sshd.service
</span></pre></table></code></div></div><p> </p><p>Change ad-hoc runlevel with systemctl isolate command. Boot targets are somehow equivalent to SysV init runlevels:</p><blockquote><ul><li>Switch to another target (in this case multi-user/runlevel 3 in old SysV):</ul></blockquote><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">systemctl</span> <span class="n">isolate</span> <span class="n">multi</span><span class="o">-</span><span class="n">user</span><span class="p">.</span><span class="n">target</span>
</pre></table></code></div></div><blockquote><ul><li>Switch to graphical target (in this case graphical/runlevel 5 in old SysV):</ul></blockquote><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">systemctl</span> <span class="n">isolate</span> <span class="n">graphical</span><span class="p">.</span><span class="n">target</span>
</pre></table></code></div></div><hr /><h3 id="journalctl"><span class="mr-2">journalctl</span><a href="#journalctl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>View all log entries starting from this boot:</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="err">$</span> <span class="n">journalctl</span> <span class="o">-</span><span class="n">b</span>
</pre></table></code></div></div><p>view only kernel messages from this boot:</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="err">$</span> <span class="n">journalctl</span> <span class="o">-</span><span class="n">k</span> <span class="o">-</span><span class="n">b</span>
</pre></table></code></div></div><p>using <strong>-x</strong> flag attaches some additional data to the logs, <strong>-n</strong> can get an integer and show this much lines (default 10):</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="err">$</span> <span class="n">journalctl</span> <span class="o">-</span><span class="n">xn</span>
</pre></table></code></div></div><p>view all logs from a specific service:</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="err">$</span> <span class="n">journalctl</span> <span class="o">-</span><span class="n">b</span> <span class="o">-</span><span class="n">e</span> <span class="o">-</span><span class="n">u</span> <span class="n">nginx</span><span class="p">.</span><span class="n">service</span>
</pre></table></code></div></div><hr /><p>That’s All folks!</p><p>systemd has sooo many features (and of course so much <a href="http://www.zdnet.com/article/linus-torvalds-and-others-on-linuxs-systemd/">criticism</a> and <a href="http://0pointer.de/blog/projects/the-biggest-myths.html">debate</a>!). I will try to cover more advanced features of systemd in following posts on this blog. Here are some links that will be useful for you:</p><p><a href="https://access.redhat.com/articles/systemd-cheat-sheet">https://access.redhat.com/articles/systemd-cheat-sheet</a></p><p><a href="https://gist.github.com/mbodo/8f87c96ce11e91f80fbf6175412a2206">https://gist.github.com/mbodo/8f87c96ce11e91f80fbf6175412a2206</a></p><p><a href="https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units">https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units</a></p><p><a href="https://wiki.archlinux.org/index.php/Systemd">https://wiki.archlinux.org/index.php/Systemd</a></p><p>and this series of articles by Lennart Poettering (core systemd developer!):</p><ul><li>[systemd-for-admins-I] (<a href="http://0pointer.net/blog/projects/systemd-for-admins-1.html">http://0pointer.net/blog/projects/systemd-for-admins-1.html</a>)<li>[systemd-for-admins-II] (<a href="http://0pointer.net/blog/projects/systemd-for-admins-2.html">http://0pointer.net/blog/projects/systemd-for-admins-2.html</a>)<li>[systemd-for-admins-II] (<a href="http://0pointer.net/blog/projects/systemd-for-admins-3.html">http://0pointer.net/blog/projects/systemd-for-admins-3.html</a>)<li>[systemd-for-admins-IV] (<a href="http://0pointer.net/blog/projects/systemd-for-admins-4.html">http://0pointer.net/blog/projects/systemd-for-admins-4.html</a>)<li>[systemd-for-admins-V] (<a href="http://0pointer.net/blog/projects/three-levels-of-off.html">http://0pointer.net/blog/projects/three-levels-of-off.html</a>)<li>[systemd-for-admins-VI] (<a href="http://0pointer.net/blog/projects/changing-roots.html">http://0pointer.net/blog/projects/changing-roots.html</a>)<li>[systemd-for-admins-VII] (<a href="http://0pointer.net/blog/projects/blame-game.html">http://0pointer.net/blog/projects/blame-game.html</a>)<li>[systemd-for-admins-VIII] (<a href="http://0pointer.net/blog/projects/the-new-configuration-files.html">http://0pointer.net/blog/projects/the-new-configuration-files.html</a>)<li>[systemd-for-admins-IX] (<a href="http://0pointer.net/blog/projects/on-etc-sysinit.html">http://0pointer.net/blog/projects/on-etc-sysinit.html</a>)<li>[systemd-for-admins-X] (<a href="http://0pointer.net/blog/projects/instances.html">http://0pointer.net/blog/projects/instances.html</a>)<li>[systemd-for-admins-XI] (<a href="http://0pointer.net/blog/projects/inetd.html">http://0pointer.net/blog/projects/inetd.html</a>)<li>[systemd-for-admins-XII] (<a href="http://0pointer.net/blog/projects/security.html">http://0pointer.net/blog/projects/security.html</a>)<li>[systemd-for-admins-XIII] (<a href="http://0pointer.net/blog/projects/systemctl-journal.html">http://0pointer.net/blog/projects/systemctl-journal.html</a>)<li>[systemd-for-admins-XIV] (<a href="http://0pointer.net/blog/projects/self-documented-boot.html">http://0pointer.net/blog/projects/self-documented-boot.html</a>)<li>[systemd-for-admins-XV] (<a href="http://0pointer.net/blog/projects/watchdog.html">http://0pointer.net/blog/projects/watchdog.html</a>)<li>[systemd-for-admins-XVI] (<a href="http://0pointer.net/blog/projects/serial-console.html">http://0pointer.net/blog/projects/serial-console.html</a>)<li>[systemd-for-admins-XVII] (<a href="http://0pointer.net/blog/projects/journalctl.html">http://0pointer.net/blog/projects/journalctl.html</a>)<li>[systemd-for-admins-XVIII] (<a href="http://0pointer.net/blog/projects/resources.html">http://0pointer.net/blog/projects/resources.html</a>)<li>[systemd-for-admins-XIX] (<a href="http://0pointer.net/blog/projects/detect-virt.html">http://0pointer.net/blog/projects/detect-virt.html</a>)<li>[systemd-for-admins-XX] (<a href="http://0pointer.net/blog/projects/socket-activated-containers.html">http://0pointer.net/blog/projects/socket-activated-containers.html</a>)</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/linux/'>linux</a>, <a href='/categories/software/'>software</a>, <a href='/categories/sysadmin/'>sysadmin</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/debate/" class="post-tag no-text-decoration" >debate</a> <a href="/tags/debian/" class="post-tag no-text-decoration" >debian</a> <a href="/tags/init/" class="post-tag no-text-decoration" >init</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/management/" class="post-tag no-text-decoration" >management</a> <a href="/tags/sysadmin/" class="post-tag no-text-decoration" >sysadmin</a> <a href="/tags/systemd/" class="post-tag no-text-decoration" >systemd</a> <a href="/tags/sysvinit/" class="post-tag no-text-decoration" >sysvinit</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Introduction to systemd : Basic Usage and Concepts - Rayanfam Blog&amp;url=https://rayanfam.com/topics/introduction-to-systemd-basic-usage-and-concepts/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Introduction to systemd : Basic Usage and Concepts - Rayanfam Blog&amp;u=https://rayanfam.com/topics/introduction-to-systemd-basic-usage-and-concepts/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://rayanfam.com/topics/introduction-to-systemd-basic-usage-and-concepts/&amp;text=Introduction to systemd : Basic Usage and Concepts - Rayanfam Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/topics/hypervisor-from-scratch-part-1/">Hypervisor From Scratch - Part 1: Basic Concepts & Configure Testing Environment</a><li><a href="/topics/hypervisor-from-scratch-part-2/">Hypervisor From Scratch – Part 2: Entering VMX Operation</a><li><a href="/topics/hypervisor-from-scratch-part-5/">Hypervisor From Scratch – Part 5: Setting up VMCS & Running Guest Code</a><li><a href="/topics/hypervisor-from-scratch-part-6/">Hypervisor From Scratch – Part 6: Virtualizing An Already Running System</a><li><a href="/topics/hypervisor-from-scratch-part-7/">Hypervisor From Scratch – Part 7: Using EPT & Page-Level Monitoring Features</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/hypervisor/">hypervisor</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/debian/">debian</a> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/cisco/">cisco</a> <a class="post-tag" href="/tags/invept/">invept</a> <a class="post-tag" href="/tags/ios/">ios</a> <a class="post-tag" href="/tags/vmcs/">vmcs</a> <a class="post-tag" href="/tags/active-directory/">active-directory</a> <a class="post-tag" href="/tags/cache/">cache</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/topics/useful-config-squid3/"><div class="card-body"> <em class="timeago small" data-ts="1490054400" > 2017-03-21 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Useful Configs for Squid3 Cache</h3><div class="text-muted small"><p> Hi everyone! After searching the web so many times and testing different configurations of Squid, I have found these minimal working configs which you can use to achieve the features you want fr...</p></div></div></a></div><div class="card"> <a href="/topics/cisco-ios-and-strongswan-ipsec-vpn/"><div class="card-body"> <em class="timeago small" data-ts="1505606400" > 2017-09-17 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Cisco IOS and StrongSWAN IPSEC VPN</h3><div class="text-muted small"><p> In this blog post we will cover IPSEC tunnel between Linux StrongSWAN and Cisco IOS. The strongSWAN config file can copied exactly as is to another server with the IP of Cisco Router and the tun...</p></div></div></a></div><div class="card"> <a href="/topics/useful-configs-for-nginx/"><div class="card-body"> <em class="timeago small" data-ts="1520294400" > 2018-03-06 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Useful Configs for NGINX</h3><div class="text-muted small"><p> After posting the first of my linux SysAdmin quick config sample series titled “Useful Configs for squid” (which you can read here). I decided to write another post, this time about the powerful ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/topics/useful-configs-for-nginx/" class="btn btn-outline-primary" prompt="Older"><p>Useful Configs for NGINX</p></a> <a href="/topics/survey-non-general-registers/" class="btn btn-outline-primary" prompt="Newer"><p>A partial survey among non-general purpose registers</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://rayanfam.com/topics/introduction-to-systemd-basic-usage-and-concepts/'; this.page.identifier = '/topics/introduction-to-systemd-basic-usage-and-concepts/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://rayanfam.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/rayanfam">Rayanfam Blog</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/hypervisor/">hypervisor</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/debian/">debian</a> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/cisco/">cisco</a> <a class="post-tag" href="/tags/invept/">invept</a> <a class="post-tag" href="/tags/ios/">ios</a> <a class="post-tag" href="/tags/vmcs/">vmcs</a> <a class="post-tag" href="/tags/active-directory/">active-directory</a> <a class="post-tag" href="/tags/cache/">cache</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-P6M1BDG57Z"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-P6M1BDG57Z'); }); </script>
